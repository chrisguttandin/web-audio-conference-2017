addons:
  chrome: stable
before_install: npm install npm@latest --global
cache:
  directories:
    - $HOME/.npm
dist: xenial
env:
  global:
    - secure: B4T2oxGxbNMcNm+aqeArgcjhFPRNtQRCSFLyoqYtnUJheAP59r6WIxmRsp2X+CwY87ghkoxR97bGZSOBIR6np5repggfnDivgQcy1Q3n+qrbDAeaH4Xj2Xs99gv/tzqcjZhoAvKGh42ggMXAfGb5sH32pUsUPJwzCmcYPp4f+ylNhV99hXLRwEUKotbPwx2kFErvOvzh/R/sFb9KASAKR9xP1gsd7SZntAOuFQnXVhuwxa4+j349NzF/whfSna4ywy7fT0nc1RmIzCnH8PbvcOx/TRn6UT9Y/ulnmx4Gh3l8eC4+qFe6TvSNUozfk9hqeu8BmutH8RMUgLFtQNrVjLtuFOx1HqGsTFIkS2NTAO+fXBvvhLnaELsMtRZRC0KLcVLij/cygutj5ADhTqsPNwgousPEC3FKx+WRIkemn9XykQzWgLGu+z0M8ZXwgWAp3Gx2PNaRs/LgB6l0hV+/MMDbxYzoNz005DCOQQxFQdCeWq5LI9AjooThcYlcrA7t6iPXrNztgN57a6JrhxVoOj7uRNVM7zwn49JIqCT4IajD7XxFZidPHnTNOCPfdBmNde3LViftYfKkLTTNjTnsyFk7tIvDyejUAI6Yr5AfPMvohQq3OOIKbBGypB0Va6ItLKKIxUbZMTjxl7tH+lQyizpO9znoOqGejZ8AzIn35EY=
    - secure: quE228PNouGV7h3s7HOPxvp5XOPDA/D7c6jq+x26fTVZJmTLCKzqzXMTo0rJGfMz8DyOqFRiE16n8jVm6nj6+FpoI9v0kgtcbi2M9/uf+6AaI25TaXgdr03573Nw9OOlXvmaMF76YG7fOVBxdQa9WSWCt3bqHlZHfYmeVG6lDmfUdk5nPXJM2mWNYu1ICSwSjXH2fiWzYJbNGL9Gr7PXT6T630LDqkQgnWLAWK1hcwbjUDCrih6xeylhpXd2B7jebgzNtq0S501iSVp9eQBm0kOyg46lPU6aiii/p3zWuWAwJK+uMIQ5jId1y6c3RlFNGV376xoCM5ISdlky6IgcWyEM09jq27wkUkQdhXpTYNkXsdx+hhiaZEnD0oO9TwNMloAEjId39q25Zg+2hrCzmgXuuHteNa+k453f6BdFdj82Or8qvZSeCS2s1V+ADpvEVXH041vNNo97MMqu3YonMCByvbVnWTm2XpOMABQu/upUZR0LyL84tHgQuEvvSAxCiUMwQ+fU2UbFxer9pUTvwratXT/AojKCVxIo8+LTq/JHLTFHISxtZ5QlXtlkNfi5NYg+drP+orXh2wQdzsJLuIXgaScTLakXUaYpoMLN2b9yypQIdsfSO5RbTd977K8gLzoGty3N8oYikSJZnE85r6TQPYU7mBMfMHNOVLhBRck=
    - secure: sCjvcb5ct7/ypDzW2YUSVWShAl255VEN3VfaETk6X1vsn7bCwTyGdtLoFCu378W3a9BUmpOeG1SdKVRSTvmUnYcVSDryZLsMOw1oWLcZGbyrIAu7bOw0+ZjGvcPKMfYNR9VXoGtHIY3SZfrZqKLFFtUA4M0d9XQ+0c51m3jGc+oHGLDEXHGTnUXIPnxU2CApvpxqQKTHgpNcGlTD3ZkqV3SppAX3AtZ4+Qy4UfcPy3ve41183ihuNP1lz61HFbPMHgBUjRw7tWaAFFyp1FWnPP6UizrWGMg5Go87sIou9F7hRK3REdyyKqTC0yoeiFp/pMMAri7ZYTF1Vfx9BtTPT9Lj+KQZub+/zECUsKky71nU5a5hwYP66HXAZjC9JFH1Lw7XL1orHy1Kv5wHLPosJElRhtA5KPg/SIcJr9lHsihE4f6QSHHcAHMyUboXzS0Id8e/jQq45D3Lm3427Gm4iFyPw4M6grdt+7TBKj8ufC2l00XxjrKN+ESP/ysuH8b8JUh2d+FHu4vB17r/YD/0dL/Hs5FOgAkm6MnLy3sUN7BlksiBSk2++s4p8y4Q1nY9L49ppA8r8bqljQSXviNoqRIPK/mchUV4dMHKihWfuNvLcjHC4iV1vz83DWaVUp39yPzyYVNJadbGv6QzojE7UUxeznvhNSHYLowTKOhSDvI=
    - secure: J9HVbrfAXEIPa35ZJQv7E25gFalpMaEoYfmmMtuSAMKSn9By3ssqAluA64nHyjIMJ7XAkrbiNmcVGABBrnrGCcjNLi6fms1vb3Da5z/1F4BZ+yC2qpJTvm1DiRokP28Q7Dv7K0djicSj1tzT5FY2q83sIO2/ffhhVxYzujkYGY0o4L1SA00dorDSflnklHS7INCvhLk6RTFQfuMPCWZofG+la9jzq2eqKFD1Hq8WTTPfheo6wXkYFak34MrSvf8pUxvrmu5uEqVIo3RM3GSEkKY2BZUNzH3+PItWQ+Hx5n49sAdhNVKtJu0X61VVUesADKi73bamCgHZ7b1DC/1t3WfbidDaX6UHIgGXFDtl+BfdK8PewXWk2+tWOoHCUvqCguAQAP/XoW4m/FeOnYfJzfPyA7vhAYR/AsX6QCMD89DbCFDOULdvuu9VpgkW9fb8mjp0mMHmzgAE4jxnGn/4BLHjgioc8KAwkk5dT8p6It3ZIyzkinPtc3mOTGs+pKL1uqxdM2W7JdCkNKH9WOHnAmSnHRP3mCD5Qv49ifnB7nYEMJOoC8tTvja4uY5rhtSeYv1RDQFNuRAVokcSi984EEzsTsYR1oiLFt8RvbSmp1Rb/8hbvSg1OYH0C5yLh+eDQ7LGmzupBoQRQ0/oZ9QtWibuBHjdw6PyTEw9PRN0wos=
    - secure: tvrlZIXwzmde8QY6f0YZd/GKfQ/y7mED9k+dfA8ecnHI/YD6spQoCJfcBEwUHrOlS2N1hylfQXed2MINT/XgiYrqioZN796Zpzz6iuszT7mSap2YnDdT76eql0W0awHjA4gvNnJiQz3u4WRBWW3dBupT6s4FiBfedceBI/aVlVQHnXvBLkvvTosQTNEeRBbxKf1IftfD3hCObNiycXDjAy8vyvG84CcCLdE+x7Tyn4ERRfqqCAD8ZoTYi6dIL2iVpfd0VA+Dua4Ktolcsi5Mz3L/HW7Ztk96kP64jWQPGg+CFQPn5aNMQOUDx4zkpF0dUFGRZdOtLa+vA1q3xKhvOMgNAacACFrd/whAmCu6TMy6JtP2Ny4+nkkUthGhRrKgc751jt5X3Tb/NDzmTosop5GO4GjcI2KjNCZLnQB/AUIAhDrOcjTgJeDGLBkhaHQEJIRfSYhHP6l+5Yl62IbtlHQnv5vVUdK7HKZyrFGNBu2hXZzBc7HrJBkAOHxHomF3Y37zwEN7ofjkFyVN4TcBAMy+PFby/Cp9SVpHwpUaU8VEuxoWHJIYcB0z+sQxLuXTE0qx8NJ/k1pN/2Nz8z5J1zDouWp66dpqPk2xL+6DfE37u3KveCrSAhpHjphUFrEY0/wlCs6P2J2EipigJPlxL/4l6vdbPsWAfz5PsHlm4NY=
    - secure: NUAvclltOqHZwn8Um4DdKS1F8M5J3NHVTlGaJ7uw4sLAs7lW4ledcrkwyDMnrNLcGaDsepwoS4/4rKvaTE6H32lwE6+Gq69BWOkveu8dwQY06p7ViLlZnxKiKDkeX4d3mKQZ84GySMvUNxb2w+aclUghN/G2IloGADsCNmgODGZHF70KHv3lDuQw0wur1uY/+wjq32F7pidzlkdzMZJ+ZcMDbCHhpaVMxEk9CoedGlBbQuHD3NCvAAYdqKJiosLlic4z/xcPxiyCrBNmIMxRY2kWyXjv2/3hibs7cRO5vB9P+WTOorqB3BhyOiGRm5DfHXRc959WBTvEg53/UZ5C3JVezS+rHZJ0pfBXfNZYQbYnoZCxbbXxUa5OkphCUtq3hmH4GruHFO+b3UNX91T2Xf6Pi73uH/lNaOjDK5i2PakKmDvgfRI6yFCdpaUpV38KnuxLBEcbIAAeUPZhAV4f4D7TWr8vaRDvBVs3pjI85o6XiBNG2VN1SamqsdHTZ9aBm61Z0a3sVV44mQBjMjJFpDzZopVcuVKhVL8CmGBZ1ZPN/jFsmwx7jnhqjnU/1ftZ1sZxaz5fWWfQLrEyWSl0DjohaWOPTghH7roN4FsDOI3kUA46a2L7UdFpgF3tOeW98+K7bWJ1QXYmQYmKQ6E5hD57lvJtxecTwHbiUJAgVPU=
install: npm ci || (rm -rf node_modules && npm install)
language: node_js
node_js: 11
script:
  - npm test
  - grunt deploy-on-version-updates
